##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Global rules
windowrule = suppressevent maximize, class:.* # Ignore maximize requests from apps
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0 # Fix XWayland dragging

####################
### CATEGORIES ###
####################

# === TUI Applications (Always floating) ===
windowrulev2 = float, title:^(btop|nmtui|bluetuith|pulsemixer)$
windowrulev2 = center, title:^(btop|nmtui|bluetuith|pulsemixer)$
windowrulev2 = size 1000 700, title:^(btop|nmtui|bluetuith|pulsemixer)$

# Tile bluetuith and pulsemixer in workspace 5
windowrulev2 = tile, title:^(bluetuith|pulsemixer)$, workspace:5

# === Music Layout (Workspace 5 - Dwindle) ===
windowrulev2 = workspace 5, initialTitle:^(ncmpcpp-playlist)$
windowrulev2 = suppressevent fullscreen, initialTitle:^(cava)$, workspace:5

###############################
### LAYER RULES (blur etc) ###
###############################

# Apply blur effect to mako notifications
layerrule = blur, notifications
layerrule = ignorealpha 0.2, notifications

# Apply blur effect to wofi
layerrule = blur, wofi

###############################
### AUTO FLOAT/TILE SYSTEM ###
###############################

# Default behavior: Float windows with 4:3 ratio (75% of screen)
# Specific app rules above override this catch-all rule
# Script handles automatic tiling when multiple windows exist
windowrulev2 = float, class:.*
windowrulev2 = size 1440 1080, class:.*
