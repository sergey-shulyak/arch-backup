##############################
### WINDOWS AND WORKSPACES ###
##############################

# See https://wiki.hypr.land/Configuring/Window-Rules/ for more
# See https://wiki.hypr.land/Configuring/Workspace-Rules/ for workspace rules

# Global rules
windowrule = suppressevent maximize, class:.* # Ignore maximize requests from apps
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0 # Fix XWayland dragging

####################
### CATEGORIES ###
####################

# === Dialog/Media Applications (Float, Center, 1280x720) ===
windowrulev2 = float, class:(org\.telegram\.desktop|Telegram|1password|thunar)
windowrulev2 = center, class:(org\.telegram\.desktop|Telegram|1password|thunar)
windowrulev2 = size 1280 720, class:(org\.telegram\.desktop|Telegram|1password|thunar)

# === Media Viewers ===
windowrulev2 = float, class:(feh|vlc)
windowrulev2 = center, class:(feh)
windowrulev2 = suppressevent fullscreen, class:(feh|vlc)
windowrulev2 = suppressevent maximize, class:(feh|vlc)

# === TUI Applications (kfloat versions - floating and centered) ===
# Grouped by size: 1000x700 (large) and 900x600 (medium)
windowrulev2 = float, title:^(btop|nmtui)$
windowrulev2 = center, title:^(btop|nmtui)$
windowrulev2 = size 1000 700, title:^(btop|nmtui)$

windowrulev2 = float, title:^(bluetuith|pulsemixer)$
windowrulev2 = center, title:^(bluetuith|pulsemixer)$
windowrulev2 = size 900 600, title:^(bluetuith|pulsemixer)$

# Tile bluetuith and pulsemixer in workspace 5
windowrulev2 = tile, title:^(bluetuith|pulsemixer)$, workspace:5

# === Music Layout (Workspace 5 - Dwindle) ===
windowrulev2 = workspace 5, initialTitle:^(ncmpcpp-playlist)$
windowrulev2 = suppressevent fullscreen, initialTitle:^(cava)$, workspace:5

###############################
### LAYER RULES (blur etc) ###
###############################

# Apply blur effect to mako notifications
layerrule = blur, notifications
layerrule = ignorealpha 0.2, notifications

# Apply blur effect to wofi
layerrule = blur, wofi

# Float windows with 4:3 ratio (75% of screen) - script handles float/tile based on window count
windowrulev2 = float, class:.*
windowrulev2 = size 1440 1080, class:.*
